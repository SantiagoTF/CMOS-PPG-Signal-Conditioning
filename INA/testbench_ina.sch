v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 300 -1000 300 -970 {lab=Vin+}
N 430 -1000 430 -970 {lab=Vin-}
N 370 -960 390 -960 {lab=#net1}
N 370 -920 390 -920 {lab=VSS}
N 340 -960 370 -960 {lab=#net1}
N 370 -920 370 -890 {lab=VSS}
N 340 -920 370 -920 {lab=VSS}
N 300 -910 300 -870 {lab=#net2}
N 430 -910 430 -870 {lab=#net2}
N 370 -870 370 -850 {lab=#net2}
N 370 -870 430 -870 {lab=#net2}
N 370 -790 370 -780 {lab=GND}
N 370 -1030 370 -960 {lab=#net1}
N 370 -1110 370 -1090 {lab=GND}
N 520 -920 520 -910 {lab=GND}
N 520 -990 520 -980 {lab=VDD}
N 620 -920 620 -910 {lab=GND}
N 620 -990 620 -980 {lab=VSS}
N 300 -870 370 -870 {lab=#net2}
N 820 -670 910 -670 {lab=#net3}
N 910 -670 910 -630 {lab=#net3}
N 910 -530 910 -510 {lab=#net4}
N 910 -420 910 -390 {lab=#net5}
N 840 -270 910 -270 {lab=#net6}
N 910 -310 910 -270 {lab=#net6}
N 580 -640 620 -640 {lab=#net4}
N 580 -640 580 -530 {lab=#net4}
N 910 -550 910 -530 {lab=#net4}
N 580 -300 620 -300 {lab=#net5}
N 580 -420 580 -300 {lab=#net5}
N 910 -430 910 -420 {lab=#net5}
N 840 -600 870 -600 {lab=#net4}
N 840 -530 910 -530 {lab=#net4}
N 840 -480 870 -480 {lab=#net5}
N 840 -420 910 -420 {lab=#net5}
N 840 -600 840 -530 {lab=#net4}
N 580 -530 840 -530 {lab=#net4}
N 840 -480 840 -420 {lab=#net5}
N 580 -420 840 -420 {lab=#net5}
N 840 -360 870 -360 {lab=#net6}
N 840 -360 840 -270 {lab=#net6}
N 820 -270 840 -270 {lab=#net6}
N 910 -670 1020 -670 {lab=#net3}
N 1180 -590 1180 -510 {lab=#net7}
N 1180 -510 1210 -510 {lab=#net7}
N 1020 -670 1020 -590 {lab=#net3}
N 1020 -590 1070 -590 {lab=#net3}
N 1100 -670 1100 -630 {lab=#net7}
N 1170 -590 1180 -590 {lab=#net7}
N 1100 -670 1150 -670 {lab=#net7}
N 1150 -670 1150 -590 {lab=#net7}
N 1140 -590 1150 -590 {lab=#net7}
N 1170 -670 1170 -590 {lab=#net7}
N 1150 -590 1170 -590 {lab=#net7}
N 1170 -670 1260 -670 {lab=#net7}
N 1370 -670 1400 -670 {lab=GND}
N 1400 -670 1400 -640 {lab=GND}
N 1090 -350 1090 -310 {lab=#net8}
N 1160 -270 1250 -270 {lab=#net8}
N 1090 -350 1140 -350 {lab=#net8}
N 1140 -350 1140 -270 {lab=#net8}
N 1130 -270 1140 -270 {lab=#net8}
N 1140 -270 1160 -270 {lab=#net8}
N 1350 -270 1390 -270 {lab=GND}
N 1390 -270 1390 -240 {lab=GND}
N 910 -270 1060 -270 {lab=#net6}
N 1160 -440 1160 -270 {lab=#net8}
N 1160 -440 1210 -440 {lab=#net8}
N 1280 -360 1280 -310 {lab=GND}
N 1280 -360 1350 -360 {lab=GND}
N 1350 -360 1350 -270 {lab=GND}
N 1330 -270 1350 -270 {lab=GND}
N 1290 -800 1290 -710 {lab=GND}
N 1290 -800 1370 -800 {lab=GND}
N 1370 -800 1370 -670 {lab=GND}
N 1330 -670 1370 -670 {lab=GND}
N 660 -570 690 -570 {lab=#net9}
N 660 -580 660 -570 {lab=#net9}
N 660 -400 680 -400 {lab=#net10}
N 660 -400 660 -360 {lab=#net10}
N 1250 -600 1280 -600 {lab=#net11}
N 1250 -600 1250 -570 {lab=#net11}
N 910 -600 1000 -600 {lab=#net4}
N 1000 -600 1000 -550 {lab=#net4}
N 910 -550 1000 -550 {lab=#net4}
N 910 -570 910 -550 {lab=#net4}
N 910 -480 1000 -480 {lab=#net5}
N 1000 -480 1000 -430 {lab=#net5}
N 910 -430 1000 -430 {lab=#net5}
N 910 -450 910 -430 {lab=#net5}
N 910 -360 1000 -360 {lab=#net6}
N 1000 -360 1000 -310 {lab=#net6}
N 910 -310 1000 -310 {lab=#net6}
N 910 -330 910 -310 {lab=#net6}
N 1090 -270 1090 -170 {lab=#net8}
N 1090 -170 1130 -170 {lab=#net8}
N 1130 -270 1130 -170 {lab=#net8}
N 1120 -270 1130 -270 {lab=#net8}
N 1280 -270 1280 -170 {lab=GND}
N 1280 -170 1330 -170 {lab=GND}
N 1330 -270 1330 -170 {lab=GND}
N 1310 -270 1330 -270 {lab=GND}
N 1100 -590 1100 -490 {lab=#net7}
N 1100 -490 1140 -490 {lab=#net7}
N 1140 -590 1140 -490 {lab=#net7}
N 1130 -590 1140 -590 {lab=#net7}
N 1290 -670 1290 -560 {lab=GND}
N 1290 -560 1330 -560 {lab=GND}
N 1330 -670 1330 -560 {lab=GND}
N 1320 -670 1330 -670 {lab=GND}
N 410 -230 620 -230 {lab=Vin-}
N 1410 -480 1470 -480 {lab=VOut}
N 410 -710 620 -710 {lab=Vin+}
C {/home/designer/shared/Design/CCLNA/CurrentMirror-OTA.sym} 700 -770 0 0 {name=x1}
C {/home/designer/shared/Design/CCLNA/CurrentMirror-OTA.sym} 700 -170 2 1 {name=x2}
C {/home/designer/shared/Design/CCLNA/CurrentMirror-OTA.sym} 1290 -380 2 1 {name=x3}
C {vcvs.sym} 430 -940 0 0 {name=E1 value=-0.5}
C {vcvs.sym} 300 -940 0 1 {name=E2 value=0.5}
C {lab_pin.sym} 300 -1000 0 0 {name=p14 sig_type=std_logic lab=Vin+}
C {lab_pin.sym} 430 -1000 2 0 {name=p16 sig_type=std_logic lab=Vin-}
C {lab_pin.sym} 370 -890 2 0 {name=p13 sig_type=std_logic lab=VSS}
C {vsource.sym} 370 -820 0 0 {name=V1 value=0.75 savecurrent=false}
C {gnd.sym} 370 -780 0 0 {name=l1 lab=GND}
C {vsource.sym} 370 -1060 2 0 {name=V2 value="dc 0 ac 1 sin(0 0.10m 1k)" savecurrent=false}
C {gnd.sym} 370 -1110 2 0 {name=l2 lab=GND}
C {vsource.sym} 520 -950 0 0 {name=V3 value=1.5 savecurrent=false}
C {gnd.sym} 520 -910 0 0 {name=l3 lab=GND}
C {lab_pin.sym} 520 -990 2 0 {name=p15 sig_type=std_logic lab=VDD}
C {vsource.sym} 620 -950 0 0 {name=V4 value=0 savecurrent=false}
C {gnd.sym} 620 -910 0 0 {name=l4 lab=GND}
C {lab_pin.sym} 620 -990 2 0 {name=p17 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 700 -600 2 0 {name=p1 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 700 -730 2 0 {name=p2 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 700 -210 2 0 {name=p3 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 700 -340 2 0 {name=p4 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 1290 -550 2 0 {name=p5 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 1290 -420 2 0 {name=p6 sig_type=std_logic lab=VDD}
C {sg13g2_pr/sg13_lv_nmos.sym} 890 -600 0 0 {name=M1
l=0.2u
w=0.22u
ng=1
m=1
model=sg13_lv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 890 -480 0 0 {name=M2
l=0.2u
w=20u
ng=4
m=1
model=sg13_lv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 890 -360 0 0 {name=M3
l=0.2u
w=0.22u
ng=1
m=1
model=sg13_lv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 1100 -610 3 1 {name=M4
l=0.2u
w=45u
ng=9
m=1
model=sg13_lv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 1290 -690 3 1 {name=M5
l=0.2u
w=0.22u
ng=1
m=1
model=sg13_lv_nmos
spiceprefix=X
}
C {gnd.sym} 1400 -640 0 0 {name=l6 lab=GND}
C {sg13g2_pr/sg13_lv_nmos.sym} 1090 -290 3 1 {name=M7
l=0.2u
w=45u
ng=9
m=1
model=sg13_lv_nmos
spiceprefix=X
}
C {gnd.sym} 1390 -240 0 0 {name=l7 lab=GND}
C {sg13g2_pr/sg13_lv_nmos.sym} 1280 -290 3 1 {name=M8
l=0.2u
w=0.22u
ng=1
m=1
model=sg13_lv_nmos
spiceprefix=X
}
C {isource.sym} 720 -570 1 0 {name=I0 value=2u}
C {lab_pin.sym} 750 -570 2 0 {name=p7 sig_type=std_logic lab=VDD}
C {isource.sym} 710 -400 1 0 {name=I1 value=2u}
C {lab_pin.sym} 740 -400 2 0 {name=p9 sig_type=std_logic lab=VDD}
C {isource.sym} 1310 -600 1 0 {name=I2 value=2u}
C {lab_pin.sym} 1340 -600 2 0 {name=p10 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 410 -710 0 0 {name=p11 sig_type=std_logic lab=Vin+}
C {lab_pin.sym} 410 -230 0 0 {name=p12 sig_type=std_logic lab=Vin-}
C {code.sym} 1550 -700 0 0 {name=MODEL only_toplevel=true format="tcleval( @value )" value=
"
.lib cornerMOSlv.lib mos_tt
.lib cornerMOShv.lib mos_tt
.lib $::SG13G2_MODELS/cornerCAP.lib cap_typ
"}
C {code.sym} 1560 -500 0 0 {name=NGSPICE only_toplevel=true value=
"
.param temp=27
.save all

.save @n.xm1.nsg13_lv_nmos[gds]
.save @n.xm2.nsg13_lv_nmos[gds]
.save @n.xm3.nsg13_lv_nmos[gds]
.save @n.xm4.nsg13_lv_nmos[gds]
.save @n.xm5.nsg13_lv_nmos[gds]
.save @n.xm7.nsg13_lv_nmos[gds]
.save @n.xm8.nsg13_lv_nmos[gds]



.control
   ac dec 20 0.1 21meg
   set filetype = ascii
   set units=degrees
   write testbench_ina.raw vdb(vout) vp(vout)
   set appendwrite
   op
   set filetype = ascii
   write testbench_ina.raw

  * tran 0.1u 2111u
  * set filetype = ascii
  * write testbench_ina.raw v(vin+) v(vin-) v(vout) 
  * set appendwrite
  * op
  * set filetype = ascii
  * write testbench_ina.raw

.endc
"
}
C {opin.sym} 1470 -480 0 0 {name=p18 lab=VOut}
