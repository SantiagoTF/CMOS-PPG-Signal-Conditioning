v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 240 -70 260 -70 {lab=#net1}
N 230 -140 300 -140 {lab=VDD}
N 300 -120 300 -100 {lab=VDD}
N 360 -120 360 -70 {lab=VDD}
N 300 -120 360 -120 {lab=VDD}
N 300 -140 300 -120 {lab=VDD}
N 170 -120 170 -100 {lab=VDD}
N 100 -70 170 -70 {lab=VDD}
N 100 -120 100 -70 {lab=VDD}
N 100 -120 170 -120 {lab=VDD}
N 170 -140 170 -120 {lab=VDD}
N 240 -70 240 -10 {lab=#net1}
N 210 -70 240 -70 {lab=#net1}
N 240 -10 300 -10 {lab=#net1}
N 300 -10 300 20 {lab=#net1}
N 300 -40 300 -10 {lab=#net1}
N 530 -70 550 -70 {lab=#net2}
N 560 -140 620 -140 {lab=VDD}
N 490 -120 490 -100 {lab=VDD}
N 430 -70 490 -70 {lab=VDD}
N 430 -120 430 -70 {lab=VDD}
N 430 -120 490 -120 {lab=VDD}
N 490 -140 490 -120 {lab=VDD}
N 620 -120 620 -100 {lab=VDD}
N 620 -70 690 -70 {lab=VDD}
N 690 -120 690 -70 {lab=VDD}
N 620 -120 690 -120 {lab=VDD}
N 620 -140 620 -120 {lab=VDD}
N 550 -70 550 -10 {lab=#net2}
N 550 -70 580 -70 {lab=#net2}
N 490 -10 550 -10 {lab=#net2}
N 490 -10 490 20 {lab=#net2}
N 490 -40 490 -10 {lab=#net2}
N 490 100 490 160 {lab=#net3}
N 300 100 300 160 {lab=#net3}
N 400 160 490 160 {lab=#net3}
N 400 160 400 180 {lab=#net3}
N 300 160 400 160 {lab=#net3}
N 270 210 360 210 {lab=#net4}
N 190 140 190 180 {lab=#net4}
N 190 140 270 140 {lab=#net4}
N 190 130 190 140 {lab=#net4}
N 270 140 270 210 {lab=#net4}
N 230 210 270 210 {lab=#net4}
N 170 -40 170 20 {lab=#net5}
N 80 270 80 300 {lab=#net5}
N 80 300 160 300 {lab=#net5}
N 80 20 170 20 {lab=#net5}
N 710 160 710 300 {lab=VOut}
N 630 300 710 300 {lab=VOut}
N 620 20 710 20 {lab=VOut}
N 620 -40 620 20 {lab=VOut}
N 100 210 190 210 {lab=VSS}
N 100 210 100 260 {lab=VSS}
N 100 260 190 260 {lab=VSS}
N 190 240 190 260 {lab=VSS}
N 190 260 400 260 {lab=VSS}
N 400 240 400 260 {lab=VSS}
N 400 260 500 260 {lab=VSS}
N 500 210 500 260 {lab=VSS}
N 400 210 500 210 {lab=VSS}
N 80 270 220 270 {lab=#net5}
N 80 20 80 270 {lab=#net5}
N 220 270 220 330 {lab=#net5}
N 220 330 590 330 {lab=#net5}
N 200 330 220 330 {lab=#net5}
N 160 400 160 420 {lab=VSS}
N 420 420 630 420 {lab=VSS}
N 630 400 630 420 {lab=VSS}
N 230 -170 230 -140 {lab=VDD}
N 170 -140 230 -140 {lab=VDD}
N 390 -170 560 -170 {lab=VDD}
N 560 -170 560 -140 {lab=VDD}
N 490 -140 560 -140 {lab=VDD}
N 60 330 160 330 {lab=VSS}
N 60 330 60 400 {lab=VSS}
N 60 400 160 400 {lab=VSS}
N 160 360 160 400 {lab=VSS}
N 630 330 740 330 {lab=VSS}
N 740 330 740 400 {lab=VSS}
N 630 400 740 400 {lab=VSS}
N 630 360 630 400 {lab=VSS}
N 390 -210 390 -170 {lab=VDD}
N 230 -170 390 -170 {lab=VDD}
N 420 420 420 460 {lab=VSS}
N 160 420 420 420 {lab=VSS}
N 780 160 860 160 {lab=VOut}
N 710 20 710 160 {lab=VOut}
N 240 50 260 50 {lab=Vin-}
N 530 50 550 50 {lab=Vin+}
N 120 60 130 60 {lab=VDD}
N 120 60 120 70 {lab=VDD}
N 120 130 190 130 {lab=#net4}
N 80 -430 80 -400 {lab=Vin+}
N 210 -430 210 -400 {lab=Vin-}
N 150 -390 170 -390 {lab=#net6}
N 150 -350 170 -350 {lab=VSS}
N 120 -390 150 -390 {lab=#net6}
N 150 -350 150 -320 {lab=VSS}
N 120 -350 150 -350 {lab=VSS}
N 80 -340 80 -300 {lab=#net7}
N 210 -340 210 -300 {lab=#net7}
N 150 -300 210 -300 {lab=#net7}
N 150 -300 150 -280 {lab=#net7}
N 80 -300 150 -300 {lab=#net7}
N 150 -220 150 -210 {lab=GND}
N 150 -460 150 -390 {lab=#net6}
N 150 -540 150 -520 {lab=GND}
N 360 -330 360 -320 {lab=GND}
N 360 -400 360 -390 {lab=VDD}
N 460 -330 460 -320 {lab=GND}
N 460 -400 460 -390 {lab=VSS}
N 780 220 780 240 {lab=VSS}
N 300 50 390 50 {lab=#net3}
N 390 50 390 100 {lab=#net3}
N 300 100 390 100 {lab=#net3}
N 300 80 300 100 {lab=#net3}
N 400 50 490 50 {lab=#net3}
N 400 50 400 100 {lab=#net3}
N 400 100 490 100 {lab=#net3}
N 490 80 490 100 {lab=#net3}
N 300 -70 360 -70 {lab=VDD}
N 780 160 780 170 {lab=VOut}
N 710 160 780 160 {lab=VOut}
N 400 260 400 290 {lab=VSS}
C {sg13g2_pr/sg13_lv_pmos.sym} 190 -70 0 1 {name=M3
l=1u
w=4u
ng=1
m=3
model=sg13_hv_pmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_pmos.sym} 510 -70 0 1 {name=M5
l=1u
w=4u
ng=1
m=1
model=sg13_hv_pmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_pmos.sym} 600 -70 0 0 {name=M6
l=1u
w=4u
ng=1
m=3
model=sg13_hv_pmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 280 50 0 0 {name=M7
l=1u
w=8u
ng=1
m=1
model=sg13_hv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 510 50 0 1 {name=M8
l=1u
w=8u
ng=1
m=1
model=sg13_hv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 380 210 0 0 {name=M9
l=1u
w=2u
ng=1
m=1
model=sg13_hv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 210 210 0 1 {name=M10
l=1u
w=2u
ng=1
m=1
model=sg13_hv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 180 330 0 1 {name=M11
l=1u
w=3u
ng=1
m=1
model=sg13_hv_nmos
spiceprefix=X
}
C {sg13g2_pr/sg13_lv_nmos.sym} 610 330 0 0 {name=M12
l=1u
w=3u
ng=1
m=1
model=sg13_hv_nmos
spiceprefix=X
}
C {isource.sym} 120 100 0 0 {name=I0 value=2u}
C {lab_pin.sym} 130 60 2 0 {name=p2 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 390 -190 2 0 {name=p7 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 250 50 3 0 {name=p9 sig_type=std_logic lab=Vin-}
C {lab_pin.sym} 540 50 3 0 {name=p10 sig_type=std_logic lab=Vin+}
C {lab_pin.sym} 840 160 3 0 {name=p11 sig_type=std_logic lab=VOut}
C {lab_pin.sym} 420 440 2 0 {name=p12 sig_type=std_logic lab=VSS}
C {vcvs.sym} 210 -370 0 0 {name=E1 value=-0.5}
C {vcvs.sym} 80 -370 0 1 {name=E2 value=0.5}
C {lab_pin.sym} 80 -430 0 0 {name=p14 sig_type=std_logic lab=Vin+}
C {lab_pin.sym} 210 -430 2 0 {name=p16 sig_type=std_logic lab=Vin-}
C {lab_pin.sym} 150 -320 2 0 {name=p13 sig_type=std_logic lab=VSS}
C {vsource.sym} 150 -250 0 0 {name=V1 value=0.4 savecurrent=false}
C {gnd.sym} 150 -210 0 0 {name=l1 lab=GND}
C {vsource.sym} 150 -490 2 0 {name=V2 value="dc 0 ac 1 sin(0 8m 100k)" savecurrent=false}
C {gnd.sym} 150 -540 2 0 {name=l2 lab=GND}
C {vsource.sym} 360 -360 0 0 {name=V3 value=3.3 savecurrent=false}
C {gnd.sym} 360 -320 0 0 {name=l3 lab=GND}
C {lab_pin.sym} 360 -400 2 0 {name=p15 sig_type=std_logic lab=VDD}
C {vsource.sym} 460 -360 0 0 {name=V4 value=0 savecurrent=false}
C {gnd.sym} 460 -320 0 0 {name=l4 lab=GND}
C {lab_pin.sym} 460 -400 2 0 {name=p17 sig_type=std_logic lab=VSS}
C {capa.sym} 780 200 0 0 {name=C1
m=1
value=5p
footprint=1206
device="ceramic capacitor"}
C {lab_pin.sym} 780 240 2 0 {name=p18 sig_type=std_logic lab=VSS}
C {code.sym} 960 10 0 0 {name=MODEL only_toplevel=true format="tcleval( @value )" value=".lib cornerMOShv.lib mos_tt"}
C {sg13g2_pr/sg13_lv_pmos.sym} 280 -70 0 0 {name=M4
l=1u
w=4u
ng=1
m=1
model=sg13_hv_pmos
spiceprefix=X
}
C {lab_pin.sym} 400 280 2 0 {name=p1 sig_type=std_logic lab=VSS}
C {code.sym} 960 190 0 0 {name=NGSPICE only_toplevel=true value=
"
.param temp=27
.save all

.control
  ac dec 80 0.1 11g
  set filetype = ascii
  set units=degrees
  write testbench_CurrentM_OTA.raw vdb(vout) vp(vout)
  set appendwrite
  op
  set filetype = ascii
  write testbench_CurrentM_OTA.raw

  * tran 0.1u 100u
  * set filetype = ascii
  * write testbench_CurrentM_OTA.raw v(vin+) v(vin-) v(vout)
  * set appendwrite
  * op
  * set filetype = ascii
  * write testbench_CurrentM_OTA.raw

.endc
"
}
C {ngspice_probe.sym} 240 330 0 0 {name=r1}
C {ngspice_probe.sym} 160 390 0 0 {name=r2}
